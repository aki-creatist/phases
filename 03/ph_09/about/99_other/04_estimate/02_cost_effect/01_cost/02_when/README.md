# 見積りのタイミングと種類

* 「今」がどの段階で、どの見積りを行うかによって、適した見積り技法と実際の手順が決まる
* まずは全体を見渡して、段階別に適用可能な、かつその段階に適した見積技法を選択
* その段階の見積りの目的にあわせた精度（当たりハズレ度合いと有効桁数）を目標に、それぞれの技法を自分なりに使いこなす

```text
例えば今が「秋から冬」で、来季に向けて予算を確保するための見積りを行う（試算見積り）段階であれば、時間はあまりかけられず、結果的にかなり粗い精度の見積りになる。
そうではなく、実際に予算の執行年度に入ってから、RFPなどを提示された段階で、その額での受注を目的に具体的な金額を見積もる段階（概算見積り）であれば、提示された詳細な条件や現状システムの諸数値などを活用した見積りを行う。
さらに、一般に言う設計工程の終了時点（Ph.3の終了段階）であれば、先行する工程で自らが設計した画面や帳票の数、内部理論ファイル数などを使った、より詳細な見積り（実施見積り）ができる。
```

各段階に適した技法を整理すると、次のようになる

* 試算見積り（予算金額検討時）：類推法、デルファイ法
* 概算見積り（RFP受け取り時）：簡易FP法、COCOMO
* 実施見積り（要件明確化後）：FP法、WBS法、標準タスク法

## 試算見積り

* 「試算見積り」の段階では、役割別工数比率などから全体のコストを見積もる
    * 類推法やデルファイ法を使って、大まかに全体の工数や期間、それと個人名は特定せず
* これにある程度のリスクや利益率を加味して、顧客への提示金額を示す

## 概算見積り

* 「概算見積り」の段階では、FP法で必要になる内部論理ファイル数や外部インターフェイス数までは`正確な数字が手に入らない`段階
    * そこで、簡易FP法を適用する
        * `簡易FP法`: FP法のインプットとして必要な5つの要素がすべては揃わない段階で、例えば外部入出力に当たる画面・帳票数だけを使い、他の要素は過去の統計値から類推して計算する方法
            * 簡易FP法の場合はファンクションポイント数がアウトプットされる
            * これを開発言語別の係数でステップ数に換算し、COCOMOのインプットにして工数と期間を割り出す
            * この段階では、実施を控えたメンバーの顔ふれも決まってくるので、標準原価ではなく、個人別の原価表に基づいてコストを計算することも出来る
    * ファンクションポイント法が適用できるのは外部設計が終わってから
        * そのため、要件定義直後の見積もりにファンクションポイント法を適用するには、`試算法`と`概算法`のどちらかの方法を用いる

### FP法の試算法

* `トランザクションファンクションを試算`する方法
    * 要件定義の成果物であるユースケースや、外部設計の成果物である画面から求める
    * トランザクションファンクションの数が分からず、データファンクションの数だけがわかる場合に、ざっくりとした概算を見積もるために使用
* データファンクションの内部論理ファイルと外部インターフェイスファイルの数を元にする
* 以下の仮定値を使う
    * 内部論理ファイルが１つあれば、以下であるとする
        * 外部入力が`平均で３つ`
        * 外部出力が`平均で２つ`
        * 外部照会が`平均で１つ`
    * 外部インターフェイスファイルが１つあれば、以下であるとする
        * 外部出力が`平均で１つ`
        * 外部照会が`平均で１つ`
* プロジェクトの実績データから算出された複雑さを仮定
* 要件定義で`概念モデル`が作成されていれば、`データファンクションの数を推測`する
* 推測したデータファンクションの数と、この仮定値をもとにデータファンクションの数から試算する
* つまり、試算法では次の式でFP数を計算する

```text
FP試算数=35×ILFの数+15×EIFの数
#ILF:内部論理ファイル、EIF:外部インターフェイスファイル
```

### FP法の概算法

* 概算法は、データファンクションの数だけでなく、`トランザクションファンクションの数も推測でわかる場合`に用いる
    * トランザクションファンクションの数もわかっているので、試算法よりも正確に見積り可能
    * 概算法では、複雑さに期待値を設定
        * 複雑さの期待値
            * 中: トランザクションファンクション
            * 低: データファンクション

## 実施見積り

* プロジェクト内部での詳細な工数見積もりをやり直す場合に実施する
    * 工程が進んだ段階で受注金額の見直しを行う
* 現場ではWBS法なのか標準タスク法なのかどちらが良いかを議論している時間があったら両方の考え方を当てはめて、より確かな見積りを行う
    * 俗にいう山積み崩しを行い、納期のなかですべてを消化できるよう調整する
        * 山積み崩し: 案件固有の作業もいつもの作業もすべて洗い出し、詳細なスケジュールに展開してメンバー別に作業を割り振ってそれぞれの作業に必要な工数を自己申告させる
* この段階では見積り=スケジューリングとなってくる
    * 概算見積りや試算見積りの段階と較べると、意味も目的もより現場寄りの物になる
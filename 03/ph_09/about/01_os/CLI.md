# CLIの操作

## コマンドの修正

* 一部を修正する場合
    * カーソルキーの左右を使ってカーソルを修正箇所に移動
    * 修正が終わったらEnterキーで実行
    * 修正後に行の末尾までカーソル移動させる必要はない

## コマンド履歴

* bashシェルは、入力されたコマンドを履歴として記録する
* 一般的に、コマンド履歴は500〜1000程度保存される
* コマンド履歴は、ログアウト時に記録される
    * `~/.bash_history`に記録

### 履歴を参照する

* 参照方法は３通り
    * `十字キー`を利用する
    * `history`コマンド
    * `~/.bash_history`を参照する

#### 十字キーを利用する

* `↑`キーを押す
    * 押すごとに、実行したコマンドが過去に向かって順に表示される
* `↓`キーを押す
    * 反対方向にコマンド履歴が表示される
* 再実行したいコマンドが表示されたところでEnterキーを押す
    * そのコマンドが再実行される

```bash
[student@centos7 work]$ #この時点で[ ↑ ](上矢印キー)を押す
[student@centos7 work]$ ls /usr/lib64/
```

#### historyコマンド

* 過去のコマンド履歴が表示される
    * 左側の数字は履歴番号
* `!` に続けて履歴番号を指定すると、そのコマンドをもう一度実行

```bash
history
```

```text
503  ls
504  ls -l
505  ls -al
506  history
```

```bash
!503
```

## 基本的なキー操作

| 操作 | 説明 |
|:----|:----|
| `Ctrl`+`A` | カーソルを行の先頭に移動する |
| `Ctrl`+`E` | カーソルを行の末尾に移動する |
| `Ctrl`+`D` | カーソル部分を１文字削除する(CLIの途中) | 
| `Ctrl`+`H` | カーソル左側を１文字削除する(`Backspace`と同じ) |
| `Ctrl`+`L` | 画面をクリアする |
| `Ctrl`+`S` | 画面への出力を停止する | 
| `Ctrl`+`Q` | 画面への出力を再開する |
| `Ctrl`+`C` | 実行中のコマンドを中断する | 

* `Ctrl`+`S`は一切の操作ができなくなる
    * `Ctrl`+`Q`を押して解除
* `Ctrl`+`C`は実行中のコマンド
    * 間違って実行してしまったコマンドをキャンセルする
    * 中断が成功すると、プロンプトが表示される

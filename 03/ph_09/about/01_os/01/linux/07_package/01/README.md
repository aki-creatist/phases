# RPMパッケージ

* TPMパッケージファイルは「.rpm」という拡張子のファイル
* RPMファイルのファイル名からは以下の情報がわかる
    * パッケージ名やソフトウェアのバージョン
    * 対応ディストリビューションやパッケージのバージョン
    * アーキテクチャ
* アーキテクチャが異なるとRPMパッケージは使用できない

## 特徴

* RPMパッケージは主に以下で使用される
    * Red Hat Enterprise Linux
    * CentOS
* RPMパッケージファイルは、`.rpm`という拡張子のファイル
* ファイル名から情報を読み取れる
    * `emacs-24.3.11.el7.x86_64.rpm`
        * emacs: パッケージ名
        * 24.3.11: ソフトウェアのバージョン
        * el7: 対応ディストリビューションやパッケージのバージョン
        * x86_64: アーキテクチャ
    * 重要なのはアーキテクチャ
    * アーキテクチャが異なると、RPMパッケージを使えない
        * 同一ディストリビューション、同一バージョンであってもダメ
    * 多くのサーバーやPCはいわゆるx86アーキテクチャ (Intel CPU)
    * インストールするパッケージのアーキテクチャを判別は以下で大別
        * 基本はCPUが32ビット？64ビット？で判断
    * アーキテクチャとはコンピューターのハードウェア構造を意味する言葉
    * 一般的には、CPUの種類を示すCPUアーキテクチャを表す
    * `arch` コマンドでアーキテクチャを調べることができる

```bash
arch
i386 #32ビットのIntel
```

* 32ビットのIntel CPUおよび互換CPU
    * i386
    * i586
    * i686
* 64ビットのIntel CPUおよび互換CPU
    * x86_64

## RPMパッケージ操作

* `rpm` コマンド
    * インストールされている全パッケージを表示する

```bash
rpm -qa
```

## 他の環境からRPMをそのまま取得する

* `rpm2cpio` と `cpio` を使用

### 前提条件

* `yum-utils` をインストールしてあること

```bash
su su -
yum install -y yum-utils
```

### 手順

* RPMをダウンロード
* コマンド実行したディレクトリにダウンロードされたか確認

```bash
#RPMをダウンロード
YUM_PACKAGE_NAME=#ダウンロードしたいパッケージ
yumdownloader ${YUM_PACKAGE_NAME}
```

```bash
#コマンド実行したディレクトリにダウンロードされたか確認
ls -la *.rpm
```

### 実行例

```bash
cd ~
yumdownloader php56
ls -la *.rpm
```

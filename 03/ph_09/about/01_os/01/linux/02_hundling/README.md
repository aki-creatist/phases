# ファイル/ディレクトリ操作

* コマンドのオプションは、基本的にはコマンドごとに異なる
* いくつかのコマンドで共通しているオプションもある
    * `-r` オプション
        * recursive (再帰的な)
        * `ディレクトリ内を順にたどって` ＝「ディレクトリを全部」という意味
        * shutdownコマンドの-rオプションはrecursiveではなく、reboot (再起動)のr

## 共通のコマンド

* ファイル/ディレクトリどちらに対しても同様のコマンド
    * ディレクトリに操作に対しても `-r` オプション不要

### 移動/名前の変更

* `mv` コマンド
    * move の略
    * ファイル/ディレクトリを移動する
    * ファイル/ディレクトリの名前を変える

### ファイル/ディレクトリを移動する

```bash
mv	移動元ファイル名 移動先ディレクトリ名
```

```bash
# ファイルの移動
move move.txt moved  # move.txtを./movedディレクトリ以下に移動
# ディレクトリの移動
move moved other/sub # movedディレクトリをother/subディレクトリに移動
```

#### 削除権限のないファイルは移動できない

* ファイルを移動する ＝ 新しい場所にファイルをコピーすると同時に古いファイルを削除すること
    * ファイルを削除する権限がないと「許可がありません」というエラーになる

```bash
mv /etc/services motd temp
mv: '/etc/services'から'temp/services'へ移動できません: 許可がありません
```

### ファイル/ディレクトリの名前を変える

* `mv` コマンドは名前を変える際にも使用する
    * 使える名前にはルールがある

```bash
# ファイルの名前を変える(ディレクトリの場合も同様)
mv 元ファイル 変更後ファイル名
```    

#### 使える名前のルール

* 使える文字に制限がある
    * ファイル名は基本的に、アルファベットと数字、いくつかの記号だけを使う
        * アルファベット: a~z、A~Z
        * 数字: 0~9
        * 記号: `_` `-` `.`
* アルファベットの大文字と小文字が区別される
    * `A.txt`と `a.txt` は別ファイル
* `.` で始まるファイル名をつけると隠しファイルとなる
    * 通常の操作では表示されない
    * `.` で始まるファイルをドットファイルという
    * lsコマンドで `-a` オプションをつけると表示できる

## ファイル

### コピー

* `cp` コマンド
    * CoPy の略
    * 正常にコピーされた場合、成功した旨のメッセージなどは何も表示され
    * コピーするとファイルの所有者と所有グループがcpコマンドを実行したユーザーのものに変わる
    * 日付もcpコマンドを実行した時点に変わる
    * コピー先にディレクトリ名を指定した時は、ファイルはディレクトリ内に、同じファイル名でコピーされる

```bash
cp	コピー元ファイル名 コピー先ファイル名(またはコピー先ディレクトリ名)
```

### カレントディレクトリにコピーする

* `.`(ドット)をコピー先に指定する

```bash
cp path/to/file . #ドット記号「.」は、カレントディレクトリを表す
```

### 属性情報をキープしたままコピー

* `-p` オプション

```bash
cp -p コピー元ファイル名 コピー先ファイル名(またはコピー先ディレクトリ名)
```

### コピー元ファイルを複数指定

* コピー元ファイルを複数指定可能
    * この場合、一番最後の引数はディレクトリでなければならない
    
```bash
cp コピー元ファイル1 コピー元ファイル2 コピー先ディレクトリ
```

### 削除

* `rm` コマンド
    * ReMove
    * rmコマンドを使ってファイルを削除すると元に戻すことは基本的には不可能
    * ゴミ箱的なディレクトリを作成し、削除したいファイルを移動するなど工夫する

```bash
rm	削除するファイル名
```

## ディレクトリ

* ディレクトリもファイルの一種
* ディレクトリもファイルと同じように操作可能
* ファイルと同様のコマンドに `-r` オプションを指定

### コピー

```bash
cp -r コピー元ディレクトリ コピー先ディレクトリ
```

### 削除

```bash
rm -r ディレクトリ名
```

`-f` オプションも合わせ `-rf` のように指定すると、確認されずに削除される

```bash
rm -rf ディレクトリ名
```
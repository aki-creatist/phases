# 業務アプリとDB基盤の分離

* 業務アプリケーションとDB基盤の分離
    * データを管理する基盤
    * それを操作して業務として成り立たせるアプリケーション
    * 特に基盤の部分は共通にする
        * 基盤は基盤で品質を上げられるよう
        * 業務アプリは業務アプリで、業務の観点で品質を上げられる


* 本来は集中管理すべきのものに関してはそれぞれの方式の間でトレードオフが発生する
    * 例: DBのシェアード方式とシェアードナッシング方式
        * `シェアード方式`: ネットワークを介して連携する複数のDBーバーから一つのストレージにアクセス
        * `シェアードナッシング方式`: データの格納先を物理的に分散させ、データベースサーバーの制御アプリケーションでアクセス先をコントロールする方式

#### シェアード方式

* データは１箇所にある
    * 業務アプリケーションからはどのDBサーバーにアクセスしても同じ
        * DBサーバー間でメモリーの内容を常時共有している
        * 常に最新のデータに高速にアクセスできる
        * `DB基盤を業務アプリケーションの領域から分離`可能
        * チューニング時の制約も少ない
            * 業務アプリケーションを修正しなくてもチューニング可能
            * シェアード方式ではデータベースの中だけで完結する
    * 基盤の範囲だけで業務アプリケーションの影響を受けずにチューニング可能

#### シェアードナッシング方式

* DBサーバーの制御アプリケーションが単純な構成が取れる
* 速度を確実に速くすることが可能
* ただし同じデータは複数の場所にない
* データの配置が悪いと１つの処理であちこちにアクセスしなければならない
* データを追加する際は業務アプリケーションもデータの配置に合わせて作る
* あちこちにアクセスしなくても良いように工夫が必要
* 業務アプリケーションまで含めてチューニングできる
* チューニングの余地が広いため、

### 処理方式

集中・分散などの処理方式のことをシステムアーキテクチャと呼ぶ

* 論点
    * 処理方式では、集中処理方式で性能を上げるほうが良いのか
    * 一台一台の性能は低くても、分散処理方式で性能が足りなくなった時に簡単に拡張できるほうが良いのか

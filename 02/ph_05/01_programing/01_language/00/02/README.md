# 変数の操作

## 変数から変数への代入

* 変数には値だけでなく、変数を代入可能
* 変数を変数に代入した場合、変数の中の値</font>がコピーされる
    * メモリ上の場所ではない
    * たとえば、次のように書いた場合、変数$nameの値が変数$name2にコピーされる

```php
$name = '変数の値1';
$name2 = '変数の値2';
$name2 = $name;
```

* 移動ではないので代入の後、２つの変数の内容は同じになる
* 変数aに100を入れ、変数aを変数bに代入する
* 変数bには100という値がコピーされたので変数aの値を変更しても表示されるのは100となる

```text
$a = 100;
$b = $a;
echo $b;
$a = 200;
echo $b;

// 100100
```

* 現時点では不要な知識ですが、`&`を付けるとメモリの場所コピーすることになる
* 変数aの値を200に変えると、メモリ上の変数aという名前の付けられた場所を示す変数bの値は変更される

```text
$a = 100;
$b = &$a;
echo $b;
$a = 200;
echo $b;

// 100200
```

* 変数には、別の変数のデータを使って計算した結果を代入可能
* 例えば、変数iの値(10)に20を加算した結果を、変数iに代入したい場合を考えてる

```text
//変数iの値を参照
int i = 10;
int k;
k = i + 20;
```

* ここで、kにi+20の計算結果を代入するためには、iの中に入っているデータ(10)を持ってきて、計算する必要がある
* このように、**他の変数からデータをコピーして持ってくること**を参照という
    * この場合、`変数kは変数iを参照している`という
    * また、変数は自分の値を参照して代入することも可能
        * 先ほどのi = i + 1;の例がそれ

## ２つの変数のデータを入れ替える

* ２つの変数のデータを直接入れ替えることはできない
* 入れ替え用の変数を使う
    * ２つの変数の値を入れ替えるとしたら、以下のようになる

[image](image/algo_004.png)

* 上図のアルゴリズムではaもbも同じ値が出力されてしまう
    * ２つのデータを入れ替えるには、それぞれの変数とは別の変数を用意し、あらかじめコピーしておく

[image](image/algo_005.png)

* 擬似言語で書くと以下のようになる

```text
◯整数型:a,b,w
・a←10
・b←20
・w←a
・a←b
・b←w
・a,bを出力する
```

## テキストと変数の足し算

* 「+」の左右にある値のどちらかがテキストの場合、テキストを連結する処理となる

```text
// javascript
var count = 4;
document.write('<p>' + count + 'です。</p>');

// PHP
$count = 4;
echo '<p>' . $count . 'です。</p>';

// 「4です」と出力される
```

## 数値の計算とテキストの連結を混ぜた式

* 演算子には優先順位があり、優先順位が高く、最も左にあるものから処理される

```text
var count2 = 6;
document.write('<p>' + count + 'に' + count2 + 'を足すと' + (count + count2) + 'です</p>');
```

* 数値の計算とテキストの連結を混ぜた式を書く場合は、数値の計算部分をカッコで囲む
* カッコで囲んだ部分が先に処理される

## 式を短く書ける演算子

* 計算に使われる演算子には、変数の値を１増やす、または１減らすもの、変数に値を足したり引いたりするものもあります。

| 演算子の種類 | 書式 | 同じ結果になる式 |
|:----|:----|:----|
| インクリメント演算子 | 変数++ | 変数 = 変数 +1 |
| デクリメント演算子 | 変数-- | 変数 = 変数 -1 |
| 代入演算子 + 加算演算子 | 変数+= 値 | 変数 + 値 |
| 代入演算子 + 減算演算子 | 変数-= 値 | 変数 - 値 |
| 代入演算子 + 乗算演算子 | 変数*= 値 | 変数 * 値 |
| 代入演算子 + 除算演算子 | 変数/= 値 | 変数 / 値 |
| 代入演算子 + 剰余演算子 | 変数%= 値 | 変数 % 値 |

# 処理の作成の流れ

## 全県表示

### 大枠の流れ

* web.phpでコントローラへルーティング
* コントローラで画面ファイルへ飛ばす
* 展開して表示

#### 一覧表示処理

* コントローラでモデルを読み込む
* 全件取得し、画面へ渡す
* 画面側で展開して表示する
    
### 詳細表示

#### 大枠の流れ

* web.phpでコントローラへルーティング
* コントローラで画面ファイルへ飛ばす
* 渡された変数から個別のデータを表示していく

#### 詳細表示処理

* コントローラ側でモデルを読み込む
* firstで一件取得し、画面へ渡す
* 画面側で個別に表示する

### 登録処理の作成  

#### 大枠の流れ

* web.phpでコントローラへルーティング
* 画面ファイルを作成する
* indexに登録画面までのリンクを追加
* コントローラで画面ファイルへ飛ばす
* 画面ファイルのフォームからコントローラのメソッドに飛ばす
* 画面からの飛び先をweb.phpでルーティング(POST)
* saveする

#### 登録処理

* コントローラでValidatorを読み込む
* モデルのインスタンスを生成する
* created_atやupdated_atが不要な場合はモデル側で弾く
* 全てのカラムを挿入する場合にはモデル側でfillableを指定する
* 登録する

### 編集処理の作成

#### 大枠の流れ

* web.phpでコントローラへルーティング(post)
* 画面ファイルを作成する
* indexに編集画面までのリンクを追加
